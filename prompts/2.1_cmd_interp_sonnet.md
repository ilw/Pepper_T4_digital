
**Model:** Claude 3.5 Sonnet / Claude 3 Opus
**Task:** 2.1 Command Interpreter Documentation

**Context:**
This is a complex core block. We need a deep dive into the FSM, SPI protocol, and permissions.

**Files to Reference (Copy content of these into the model context):**
*   `source/Command_Interpreter.v`

**Prompt to copy-paste:**
```markdown
**Files to Reference (Copy content of these into the model context):**
*   `source/Command_Interpreter.v`
Please act as a Senior Digital Verification Engineer.

**Goal:**
Document the `Command_Interpreter` module, which is the brain of the Pepper_T4 digital logic.

**Input File:**
`source/Command_Interpreter.v`

**Task:**
Create a file `docs/core_blocks/command_interpreter.md`.

**Requirements:**
1.  **Overview**: What does this block do? (SPI slave, decoding commands, routing data).
2.  **SPI Protocol**:
    *   Analyze the code to determine the SPI Mode (CPOL/CPHA) and bit order (MSB/LSB).
    *   Describe the command word structure (Read/Write bit, Address bits).
3.  **Finite State Machine (FSM)**:
    *   Identify the state machine in the code.
    *   Generate a **Mermaid.js stateDiagram** code block showing the transitions (e.g., IDLE -> PARSE -> ...).
4.  **Timing & permissions**:
    *   Explain when `sys_regs_en` vs `sample_regs_en` are active.
    *   Explain how the block handles clock domain crossing (CDC) if visible (or if it assumes inputs are synced).
5.  **WaveDrom Diagram**:
    *   Create a WaveDrom JSON snippet illustrating a basic "Write Register" transaction.

**Output:**
A complete Markdown file with the Mermaid and WaveDrom blocks embedded.
```
